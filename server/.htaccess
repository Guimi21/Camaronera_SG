# Habilitar el motor de reescritura
RewriteEngine On

# Forzar HTTPS (importante para seguridad)
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Permitir acceso CORS
<IfModule mod_headers.c>
    # Permitir credenciales
    Header always set Access-Control-Allow-Credentials "true"
    
    # Cache para preflight requests
    Header always set Access-Control-Max-Age "86400"
</IfModule>

# Proteger archivos sensibles
<FilesMatch "^(config\.php|\.env|composer\.json|composer\.lock)$">
    Order allow,deny
    Deny from all
</FilesMatch>
